@model BarberPageModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_customerLayout";
    ViewBag.Image = "url('/images/Barbershops/" + Model.Barbershop.PhotoLink;
    ViewBag.Title = Model.Barber.LastName + " " + Model.Barber.FirstName;
    ViewBag.PageName = Model.Barber.LastName + " " + Model.Barber.FirstName;
    ViewBag.Color = "bg-light";
    ViewBag.Container = "container";
}


<section class="ftco-section bg-light">
    <div class="container text-center">
        <div class="row justify-content-center mb-4">
            <div class="col-md-12">
                <img src="~/images/Barbers/@Model.Barber.PhotoLink" class="rounded" style="max-width: 500px; max-height: 500px;" />
            </div>
            <div class="col-md-12 text-center heading-section ftco-animate">
                <h2 class="text-dark">@Model.Barber.LastName @Model.Barber.FirstName</h2>
            </div>
            <div class="col-md-8">
                <div class="row justify-content-center mb-4">
                    <div class="col-md-6">
                        <h2 class="text-dark">Телефон</h2>
                    </div>
                    <div class="col-md-6">
                        <h2 class="text-dark">@Model.Barber.Telephone</h2>
                    </div>
                    <div class="col-md-6">
                        <h2 class="text-dark">E-mail</h2>
                    </div>
                    <div class="col-md-6">
                        <h2 class="text-dark">@Model.Barber.Email</h2>
                    </div>
                    @if (Model.Barber.Instagram != null)
                    {
                        <div class="col-md-6">
                            <a href="@Model.Barber.Instagram">
                                <img src="~/images/Instagram.png" class="img-fluid" style="max-height: 50px;">
                            </a>
                        </div>
                    }
                    @if (Model.Barber.Facebook != null)
                    {
                        <div class="col-md-6">
                            <a href="@Model.Barber.Facebook">
                                <img src="~/images/Facebook.png" class="img-fluid" style="max-height: 50px;">
                            </a>
                        </div>
                    }
                    <div class="col-md-12">
                        <hr />
                        <div class="col-md-12 text-center heading-section ftco-animate fadeInUp ftco-animated">
                            <hr />
                            <h2>Отзывы</h2>
                            <hr />
                        </div>
                        @Html.Partial("add_Review", new Review { BarberId = Model.Barber.BarberId });

                        @if (Model.Reviews != null && Model.Reviews.Count != 0)
                        {
                            @*@foreach (var item in Model.Reviews)
                                {
                                    averageRating += item.Rating;
                                }
                                if (averageRating != 0)
                                {
                                    averageRating /= Model.Reviews.Count();
                                    <h5 class="font-weight-bold" style="color:orange">
                                        AVERAGE RATING: @for (int i = 0; i < Math.Round(averageRating); i++)
                                        { Write("⭐ "); }
                                        @{ Write(Math.Round(averageRating, 2));}
                                    </h5>
                                }*@

                            @foreach (var item in Model.Reviews)
                            {
                                <div class="row border">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <h5 class="font-weight-bold" style="color:orange">Пользователь: @item.UserName</h5>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <h5 class="font-weight-bold" style="color:orange">
                                                RATING: @for (int i = 0; i < item.Rating; i++)
                                                { Write("⭐ "); }
                                            </h5>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <h5 class="font-weight-bold text-dark">
                                                E-mail: @item.Email
                                            </h5>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <h5 class="font-weight-bold text-dark">
                                                Дата: @item.Date.Day.@item.Date.Month.@item.Date.Year
                                            </h5>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <h5>Комментарий:</h5>
                                            <p class="font-weight-bold text-dark">@item.Description</p>
                                        </div>
                                    </div>
                                    <hr />
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>